# Redirige HTTP vers HTTPS
server {
    listen 80;
    server_name _;
    return 301 https://$host$request_uri;
}

# HTTPS local avec certificat auto-sign√©
server {
    listen 443 ssl;
    server_name _;

    ssl_certificate /etc/ssl/localcerts/django-selfsigned.crt;
    ssl_certificate_key /etc/ssl/localcerts/django-selfsigned.key;

    # Chemin vers les fichiers statiques
    location /static/ {
        alias /home/clta/Documents/SAE301-RBAC-check/SAE301-main-inspect/SAE301-main/PythonProject/PythonProject/Serv_web/staticfiles/;
    }

    # Proxy vers Django
    location / {
        include proxy_params;
        proxy_pass http://unix:/run/django.sock;
    }
}

